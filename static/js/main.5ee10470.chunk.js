(this["webpackJsonprap-winds-aloft"]=this["webpackJsonprap-winds-aloft"]||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},33:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n(0),s=n.n(i),r=n(18),a=n.n(r),o=(n(25),n(11)),d=n(2),j=(n(26),n.p+"static/media/Settings.696113c0.svg"),u=function(){return Object(c.jsxs)("div",{children:["Winds Aloft Forecast",Object(c.jsx)(o.b,{to:"/settings",children:Object(c.jsx)("img",{src:j,alt:"settings icon",className:"settings-icon"})})]})},l=function(){return Object(c.jsx)("div",{children:"Settings"})},b=n(9),h=n.n(b),f=n(16),O=n(10),x=n.p+"static/media/Loading.1831e8a7.svg",p=function(t){var e=t.dir;return Object(c.jsxs)("svg",{viewBox:"0 0 512 512",height:"2em",width:"2em",children:[Object(c.jsx)("circle",{cx:"256",cy:"256",r:"237.32505032019532",fill:"hsl(210, 100%, 33%)",stroke:"hsl(210, 100%, 66%)",strokeWidth:"37.349899359609346"}),Object(c.jsx)("path",{d:" M 260.4 0 L 269.56814539771983 274.6749500197458 L 313.475583094649 335.1083534400135 L 256 512 L 198.52441690535102 335.1083534400135 L 242.43185460228014 274.6749500197458 L 251.6 0 Z",fill:"hsl(30, 100%, 50%)",transform:"rotate(".concat(e,", 256, 256)")})]})},g={latitude:0,longitude:0},v=function(){var t=Object(i.useState)(g),e=Object(O.a)(t,2),n=e[0],s=e[1],r=Object(i.useState)(0),a=Object(O.a)(r,2),o=a[0],d=a[1],j=Object(i.useState)(null),u=Object(O.a)(j,2),l=u[0],b=u[1],v=Object(i.useState)("Loading..."),m=Object(O.a)(v,2),w=m[0],L=m[1],S=function(t){s({latitude:Number(t.coords.latitude.toFixed(7)),longitude:Number(t.coords.longitude.toFixed(7))})};return Object(i.useEffect)((function(){navigator.geolocation.getCurrentPosition(S)}),[]),Object(i.useEffect)((function(){(function(){var t=Object(f.a)(h.a.mark((function t(e){var n,c,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o&&e.latitude){t.next=2;break}return t.abrupt("return");case 2:return L("Determining location elevation..."),console.log("Fetching elevation."),n=Object.entries({x:e.longitude,y:e.latitude,units:"Meters",output:"json"}).map((function(t){return t.join("=")})).join("&"),c="https://nationalmap.gov/epqs/pqs.php?".concat(n),t.next=8,fetch(c);case 8:return i=t.sent,t.next=11,i.json();case 11:s=t.sent,d(s.USGS_Elevation_Point_Query_Service.Elevation_Query.Elevation),L("");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}})()(n)}),[n,o]),Object(i.useEffect)((function(){(function(){var t=Object(f.a)(h.a.mark((function t(e,n){var c,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l&&n){t.next=2;break}return t.abrupt("return");case 2:return L("Fetching winds aloft forecast data..."),console.log("Fetching winds aloft."),c="https://weatherflow-dash.herokuapp.com/winds-aloft/".concat(e.latitude,"/").concat(e.longitude,"/").concat(n),t.next=7,fetch(c,{mode:"cors"});case 7:return i=t.sent,t.next=10,i.json();case 10:s=t.sent,console.log(s),b(s),L("");case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}})()(n,o)}),[n,o,l]),l?Object(c.jsxs)("div",{id:"winds-aloft-chart",children:[l.soundings.map((function(t,e){return Object(c.jsxs)("div",{className:"sounding",children:[Object(c.jsxs)("div",{children:[t.altitude.feetAGL," ft."]}),Object(c.jsxs)("div",{children:[t.windSpd.mph," mph"]}),Object(c.jsx)("div",{children:Object(c.jsx)(p,{dir:t.windDir})}),Object(c.jsxs)("div",{children:[t.windDir,"\xb0"]}),Object(c.jsxs)("div",{children:[t.temp.f,"\xb0F"]})]},e)})).reverse(),Object(c.jsxs)("div",{className:"footer",children:[l.header,Object(c.jsx)("br",{}),l.op40,Object(c.jsx)("br",{}),"Elevation: ",l.elevation,"m MSL"]})]}):Object(c.jsxs)("div",{className:"Loading-indicator",children:[Object(c.jsx)("h2",{children:w}),Object(c.jsx)("img",{src:x,alt:"Loading indicator",className:"Loading-indicator-svg"})]})};var m=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"Header",children:Object(c.jsx)(u,{})}),Object(c.jsx)("div",{className:"Main",children:Object(c.jsxs)(d.c,{children:[Object(c.jsx)(d.a,{path:"/about",children:Object(c.jsx)("h1",{children:"About"})}),Object(c.jsx)(d.a,{path:"/settings",children:Object(c.jsx)(l,{})}),Object(c.jsx)(d.a,{path:"/",children:Object(c.jsx)(v,{})})]})})]})})},w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),s(t),r(t)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),w()}},[[33,1,2]]]);
//# sourceMappingURL=main.5ee10470.chunk.js.map